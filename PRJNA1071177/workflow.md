# 工作流程文档

本文档总结了从提取、验证到整合有关白念珠菌（*Candida albicans*）菌株耐药性元数据的完整工作流程。

## 步骤 1: 从PDF中初步提取关键摘要元数据

-   **目标:** 从科学文献 `ppat.1012497.pdf` 中提取能够勾勒出研究核心叙事脉络的关键菌株信息。
-   **执行过程:**
    1.  仔细阅读了PDF文档，重点关注描述**耐药性逐步进化**过程的图表和文字。
    2.  识别了构成研究故事主线的关键菌株：即原始的敏感菌株和在进化过程中耐药性发生**关键转折**的几个传代群体。
    3.  提取了这些核心菌株的元数据字段，包括参考文献、菌株编号、NCBI BioProject号、测序方法以及MIC50等药敏测试详情。
    4.  将这些关键摘要数据编译成一个包含5个条目的JSON数组，并以中文保存到 `metadata_initial.json` 文件中，作为后续工作的基础。

## 步骤 2: 从NCBI智能获取元数据

-   **目标:** 利用 `accession.tsv` 文件中的登录号，从NCBI数据库中获取支撑整个研究的完整测序元数据。
-   **执行过程:**
    1.  读取了 `accession.tsv` 文件，该文件包含了项目（BioProject: PRJNA1071177）下的全部50个SRA运行登录号。
    2.  使用NCBI的Entrez Direct命令行工具集中的 `efetch` 命令，批量查询SRA数据库。
    3.  请求了 `runinfo` 报告格式，获得了包括仪器型号、样本名称等在内的详细测序信息。
    4.  将检索到的全部50个条目的元数据保存为 `sra_metadata.csv` 文件。

## 步骤 3: 规划验证方案

-   **目标:** 制定一个清晰的计划，用于比对和验证从PDF中提取的摘要数据和从NCBI获取的完整数据。
-   **执行过程:**
    1.  分析了 `metadata_initial.json` (摘要) 和 `sra_metadata.csv` (完整) 两个文件的内容。
    2.  制定了一份详细的验证计划，核心是确认摘要信息在完整数据集中能找到对应，且关键技术参数（如测序平台、项目号）一致。

## 步骤 4: 执行验证并扩充数据集

-   **目标:** 步骤1中只关注了**部分传代群体性**，现将元数据集扩展为包含所有具备MIC50和测序数据的菌株。
-   **执行过程:**
    1.  **初步验证:** 首先，对 `metadata_initial.json` 中的5个摘要条目进行了验证。通过在 `sra_metadata.csv` 中查找对应的样本名称（如SC5314, AMS4058等）和BioProject号，确认了这些核心数据的准确性。
    2.  **深化分析与数据扩充:** 为了创建一个更全面的数据集进行了第二轮更详细的数据匹配工作：
        *   **交叉引用:** 仔细比对了论文的**所有图表**（如图1、图3）和**补充材料1 (`journal.ppat.1012497.s001.tsv`)**。
        *   **识别标准:** 筛选标准是：菌株必须**同时拥有**在论文中明确报告的**MIC50值**和在补充材料中列出的**SRR测序登录号**。
        *   **扩充数据集:** 基于此标准，识别出了更多符合条件的菌株，包括：
            *   揭示耐药性机制的**关键单克隆菌株** (如 `P4.4`, `P4.5`)。
            *   用于功能验证的**核心基因工程菌株** (如 `KSR1 LOH1`, `KSR1 189R/R` 等)。
            *   用于证明结论可重复性的**独立进化实验菌株** (如 `Evolved LOH2`, `LOH3`, `LOH4`)。
    3.  **生成最终文件:** 将所有经过验证和新补充的菌株信息（共15个条目）整合，并更新了每个条目的NCBI登录号为更具体的SRR号。最终生成了 `metadata_verified.json` 文件。因此，该文件是一个经过验证、扩充和丰富的最终数据集，而不仅仅是初始摘要文件的副本。

## 步骤 5: 创建科学背景总结

-   **目标:** 基于对科学文献的理解，总结研究的核心科学问题。
-   **执行过程:**
    1.  重新审阅了 `ppat.1012497.pdf` 的摘要和引言。
    2.  提炼了研究者通过测序和药敏测试想要回答的核心问题。
    3.  将总结以中文形式写入 `science_background.md` 文件。

## 步骤 6: 记录工作流程

-   **目标:** 创建本文档，全面记录从开始到结束的所有步骤，并反映工作流程中的深化和调整。
-   **执行过程:**
    1.  回顾并总结了从步骤1到步骤5的所有操作。
    2.  特别强调步骤4是如何**从一个初步验证演变为一个深入的数据扩充过程**。
    3.  将所有内容整理并写入 `workflow.md` 文件。